<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ‚ 8-Bit Birthday Adventure</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    /* Keep your full CSS here â€“ unchanged */
    body{font-family:'Press Start 2P',system-ui,sans-serif;background:linear-gradient(180deg,#0b0c1b 0%,#0f1021 60%);color:#fdfdfd;display:flex;align-items:center;justify-content:center;}
    /* ... (all your previous CSS from quiz/memory/quest/gifts) ... */
  </style>
</head>
<body>
  <main class="frame" id="app">

    <!-- HUD -->
    <div class="card center" style="gap:8px;">
      <span class="pill">â¤ï¸ x <span id="lives">3</span></span>
      <span class="pill">Level <span id="level">1</span>/4</span>
      <span class="pill tog" id="sfxToggle">ğŸ”Š SFX: Off</span>
      <span class="pill tog" id="bgmToggle">ğŸ¶ Music: On</span>
    </div>

    <!-- Screen: Welcome -->
    <section class="card screen active" id="screen-welcome">
      <div class="title">HAPPY BIRTHDAY ANNIE ğŸ‰</div>
      <p class="subtitle">Ready to play?</p>
      <div class="divider" style="margin:12px 0 18px;">
        <div class="heart"></div><div class="heart"></div><div class="heart"></div>
      </div>
      <button class="pixel-btn" id="btn-start">OH YEAH!</button>
      <p class="footer">Tap to begin â€” speakers up ğŸ”Š</p>
    </section>

    <!-- Screen: Level 1 (Quiz) -->
    <section class="card screen" id="screen-quiz">
      <!-- (your quiz HTML here, unchanged) -->
    </section>

    <!-- Screen: Level 2 (Memory Match) -->
    <section class="card screen" id="screen-memory">
      <!-- (your memory match HTML here, unchanged) -->
    </section>

    <!-- Screen: Level 3 (Mini Quest) -->
    <section class="card screen" id="screen-quest">
      <!-- (your mini quest HTML here, unchanged) -->
    </section>

    <!-- Screen: Finale (Gift Grid) -->
    <section class="card screen" id="screen-final">
      <!-- (your gift grid HTML here, unchanged) -->
    </section>

    <p class="footer">Â© Us, <span id="year"></span> â€¢ Built with love in 8-bit</p>
  </main>

  <!-- Background Music -->
  <audio id="bg-music" preload="auto" playsinline loop>
    <source src="backgroundmusic.mp3" type="audio/mpeg">
  </audio>

  <!-- Sound Effects -->
  <audio id="sfx-coin" preload="auto"><source src="https://cdn.jsdelivr.net/gh/naptha/tiny-sfx/coin.ogg" type="audio/ogg"></audio>
  <audio id="sfx-open" preload="auto"><source src="https://cdn.jsdelivr.net/gh/naptha/tiny-sfx/powerup.ogg" type="audio/ogg"></audio>
  <audio id="sfx-error" preload="auto"><source src="https://cdn.jsdelivr.net/gh/naptha/tiny-sfx/hit.ogg" type="audio/ogg"></audio>

  <script>
    const $ = (s, r=document)=>r.querySelector(s);
    const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

    // Music
    const bg = $('#bg-music');
    bg.volume = 0.4;
    let bgmOn = true;
    async function startMusic(){ if(bgmOn){ try{ await bg.play(); }catch(e){} } }

    // HUD toggle
    const bgmToggle = $('#bgmToggle');
    bgmToggle?.addEventListener('click', ()=>{
      bgmOn = !bgmOn;
      bgmToggle.textContent=`ğŸ¶ Music: ${bgmOn?'On':'Off'}`;
      if(bgmOn) startMusic(); else bg.pause();
    });

    // SFX
    const sfx={coin:$('#sfx-coin'),open:$('#sfx-open'),error:$('#sfx-error')};
    let sfxOn=false;
    function playSFX(name){ if(!sfxOn) return; const a=sfx[name]; a.currentTime=0; a.play(); }
    $('#sfxToggle').addEventListener('click',()=>{
      sfxOn=!sfxOn; $('#sfxToggle').textContent=`ğŸ”Š SFX: ${sfxOn?'On':'Off'}`;
      if(sfxOn) playSFX('coin');
    });

    // Screens
    const screens=['welcome','quiz','memory','quest','final'];
    function show(i){
      $$('.screen').forEach(el=>el.classList.remove('active'));
      $(`#screen-${screens[i]}`).classList.add('active');
      $('#level').textContent=Math.min(i,3)+1;
      window.scrollTo({top:0,behavior:'smooth'});
    }

    // Start button (Welcome)
    $('#btn-start').addEventListener('click', async ()=>{
      await startMusic();
      show(1); // go to quiz
    });

    // Footer year
    $('#year').textContent=new Date().getFullYear();

    // ---- Keep all your existing JS for quiz, memory, quest, gifts here (unchanged) ----
  </script>
</body>
</html>
